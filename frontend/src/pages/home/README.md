# 系统首页

## 功能概述

系统首页是用户登录后的默认页面，提供了待办事项、消息通知和常用功能的快速访问入口。

## 主要功能

### 1. 待办事项展示

- **统计卡片**：显示全部待办、待审批、合同提醒、里程碑提醒的数量统计
- **待办列表**：展示最新的10条待办事项
- **优先级标识**：使用不同颜色的标签标识待办事项的优先级（紧急、高、中、低）
- **类型分类**：区分审批、合同提醒、里程碑提醒等不同类型
- **快速跳转**：点击待办事项可直接跳转到对应的业务页面

### 2. 消息通知展示

- **未读数量提醒**：显示未读消息的数量
- **消息列表**：展示最新的10条未读消息
- **未读标识**：未读消息使用不同的背景色和左侧蓝色标记
- **自动标记已读**：点击消息后自动标记为已读
- **快速跳转**：点击消息可跳转到相关业务页面

### 3. 常用功能管理

- **快捷入口**：提供6个常用功能的快速访问入口
  - 候选点位
  - 铺位跟进
  - 工程管理
  - 门店档案
  - 待办审批
  - 基础数据
- **卡片式布局**：使用卡片式布局展示，支持鼠标悬停效果
- **一键跳转**：点击功能卡片直接跳转到对应页面

### 4. 数据刷新机制

- **手动刷新**：点击刷新按钮手动刷新数据
- **定时刷新**：每5分钟自动刷新一次数据
- **刷新动画**：刷新时显示旋转动画

### 5. 响应式布局

- **桌面端**：左右两栏布局，左侧显示待办事项，右侧显示消息通知和常用功能
- **移动端**：单栏布局，自动适配小屏幕设备

## 技术实现

### API 接口

- `GET /api/home/todos/` - 获取待办事项列表
- `GET /api/home/todos/statistics/` - 获取待办事项统计
- `GET /api/messages/` - 获取消息列表
- `GET /api/messages/unread-count/` - 获取未读消息数量
- `POST /api/messages/{id}/mark-read/` - 标记消息为已读

### 组件结构

```
Home
├── 页面头部（问候语、日期）
├── 左侧列
│   └── 待办事项卡片
│       ├── 统计数据
│       ├── 待办列表
│       └── 查看全部按钮
└── 右侧列
    ├── 消息通知卡片
    │   ├── 消息列表
    │   └── 查看全部按钮
    └── 常用功能卡片
        └── 功能网格
```

### 样式特点

- 使用 CSS Grid 实现响应式布局
- 使用 CSS 变量实现主题色适配
- 支持深色模式（通过 Arco Design 主题）
- 卡片式设计，视觉层次清晰

## 使用说明

### 查看待办事项

1. 在首页顶部可以看到待办事项的统计数据
2. 滚动查看待办列表
3. 点击任意待办事项跳转到对应页面处理
4. 点击"查看全部待办"查看完整列表

### 查看消息通知

1. 在右侧消息通知卡片查看最新消息
2. 未读消息会有蓝色标记
3. 点击消息自动标记为已读并跳转
4. 点击"查看全部"进入消息中心

### 使用常用功能

1. 在右下方常用功能区域选择需要的功能
2. 点击功能卡片直接跳转到对应页面

### 刷新数据

1. 点击待办事项卡片右上角的刷新按钮
2. 系统会自动刷新所有数据
3. 或等待系统每5分钟自动刷新

## 注意事项

1. 首页数据会自动定时刷新，无需频繁手动刷新
2. 待办事项和消息通知只显示最新的10条，查看更多请点击"查看全部"
3. 常用功能列表目前是固定的，后续可以支持用户自定义配置
4. 移动端访问时布局会自动调整为单栏显示

## 后续优化

1. 支持用户自定义常用功能列表
2. 支持待办事项的筛选和排序
3. 支持消息通知的分类显示
4. 添加数据可视化图表（如待办完成趋势）
5. 支持快捷操作（如直接在首页处理简单审批）
